@using Budmar_app.Controllers;
@using Budmar_app.ViewModels.ContractViewModels;


@model ContractViewModel

@using (Html.BeginForm(nameof(ContractController.Create), "Contract", FormMethod.Post))
{
    <div class="modal fade" id="create-contract-modal" data-bs-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="create-contract-modal-label" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header bg-success">
                    <h5 class="modal-title" style="font-size:2rem" id="create-contract-modal-label"><span><i style="font-size:2rem" class="bi bi-journal-plus"></i></span> Nowy kontrakt</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label asp-for="Title"></label><span class="text-danger">*</span>
                        <div class="input-group">
                            <span class="input-group-text"><i class="bi bi-journal"></i></span>
                            <input asp-for="Title" class="form-control" />
                        </div>
                        <span asp-validation-for="Title" class="text-danger opacity-75"></span>
                    </div>
                    <div class="form-group mt-2">
                        <label asp-for="Address"></label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="bi bi-geo-alt"></i></span>                            
                            <input asp-for="Address" class="form-control" />
                        </div>
                        <span asp-validation-for="Address" class="text-danger opacity-75"></span>
                    </div>
                    <div class="form-group mt-2">
                        <label asp-for="Description"></label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="bi bi-file-text"></i></span>
                            <textarea asp-for="Description" class="form-control" rows="3"></textarea>
                        </div>
                        <span asp-validation-for="Description" class="text-danger opacity-75"></span>
                    </div>
                    <div class="row mt-2">
                    <div class="form-group col-6">
                        <label asp-for="StartDate"></label><span class="text-danger">*</span>
                        <div class="input-group">                           
                            <input id="start-contract-picker" asp-for="StartDate" class="form-control"/>
                            @*<span class="input-group-text"><i class="bi bi-calendar-plus"></i></span>*@
                        </div>
                        <span asp-validation-for="StartDate" class="text-danger opacity-75"></span>
                    </div>
                    <div class="form-group col-6">
                        <label asp-for="EndDate"></label>
                        <div class="input-group">
                            @*<span class="input-group-text"><i class="bi bi-calendar-minus"></i></span>*@
                            <input id="end-contract-picker" asp-for="EndDate" class="form-control" />
                        </div>
                        <span asp-validation-for="EndDate" class="text-danger opacity-75"></span>
                    </div>
                    </div>
                    <hr>
                    <div class="mt-2 mb-0">
                        <p><span class="text-danger">*</span> Pola wymagane</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Zamknij</button>
                    <button type="submit" class="btn btn-primary">Dodaj</button>
                </div>
            </div>
        </div>
    </div>
}

<script>
    flatpickr(document.getElementById('start-contract-picker'), {
        static: true,
        defaultDate: new Date(),
        "locale": "pl",
        onChange: function () {
            // Obsługa zmiany daty/godziny, jeśli potrzebna
        }
    })

    flatpickr(document.getElementById('end-contract-picker'), {
        static: true,
        defaultDate: new Date(),
        "locale": "pl",
        onChange: function () {
            // Obsługa zmiany daty/godziny, jeśli potrzebna
        }
    })
</script>